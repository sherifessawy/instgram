(this.webpackJsonpinstgram=this.webpackJsonpinstgram||[]).push([[3],{52:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return j}));var r=n(0),c=n.n(r),a=n(2),s=n(49),i=n(32);function o(e){return u.apply(this,arguments)}function u(){return u=Object(a.a)(c.a.mark((function e(t){var n,r,a,o,u=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(u.length>1&&void 0!==u[1])||u[1],r=Object(s.g)(i.a),a=[],o=n?Object(s.i)(Object(s.c)(r,"users"),Object(s.l)("userId","==",t)):Object(s.i)(Object(s.c)(r,"users"),Object(s.l)("userId","not-in",t),Object(s.h)(8)),e.next=6,Object(s.f)(o);case 6:return e.sent.forEach((function(e){a.push(e.data())})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(e){return b.apply(this,arguments)}function b(){return(b=Object(a.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(s.g)(i.a),r={},a=Object(s.i)(Object(s.c)(n,"users"),Object(s.l)("username","==",t)),e.next=5,Object(s.f)(a);case 5:return e.sent.forEach((function(e){r=e.data()})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return d.apply(this,arguments)}function d(){return(d=Object(a.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(s.g)(i.a),r=[],a=Object(s.i)(Object(s.c)(n,"users"),Object(s.l)("userId","in",t)),e.next=5,Object(s.f)(a);case 5:return e.sent.forEach((function(e){r.push(e.data())})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r,c,a,s=n(48),i=n(0),o=n.n(i),u=n(2),l=n(51),b=n(6),j=n(46),d=n(47),h=n(30),p=d.a.div(r||(r=Object(j.a)(["\n    background: white;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"]))),f=Object(d.a)(h.b)(c||(c=Object(j.a)(["\n\n    img {\n        max-width: 150px;\n        padding: 1em;\n        \n    }\n"]))),O=Object(d.a)(h.b)(a||(a=Object(j.a)(["\n    margin: 1rem;\n    padding: 5px 10px;\n    font-weight: bold;\n    border-radius: 5px;\n    background: ",";\n    color: ",";\n\n    &:last-of-type{\n        margin-right: 3rem;\n        margin-left: 0;\n    }\n\n    &:hover{\n        box-shadow: 1px 1px 5px #888888;\n    }\n\n    @media(max-width: 480px){\n        margin: 0;\n        &:last-of-type{\n            margin-right: 1rem;\n    }\n"])),(function(e){return e.bg}),(function(e){return e.color})),m=n(20),x=n(26),g=n(28),w=n(7),v=n(31),k=n(8),y=["children"];function N(e){e.children;var t=Object(l.a)(e,y),n=Object(b.useContext)(v.a).user,r=Object(b.useContext)(x.a).firebaseApp,c=Object(g.b)(r),a=Object(w.g)();return Object(k.jsx)("div",{className:"bg-white",children:Object(k.jsxs)(p,Object(s.a)(Object(s.a)({},t),{},{className:"max-w-screen-lg mx-auto",children:[Object(k.jsx)(f,{to:m.a,children:Object(k.jsx)("img",{src:"https://sherifessawy.github.io/instgram/images/logo.png",alt:"Instgram"})}),n?Object(k.jsxs)("div",{className:"flex items-center cursor-pointer",children:[Object(k.jsx)(h.b,{to:m.a,"arial-label":"Home",children:Object(k.jsx)("svg",{className:"w-8 mr-6 text-black-light cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),Object(k.jsx)("button",{onClick:Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.e)(c);case 2:a(m.b);case 3:case"end":return e.stop()}}),e)}))),children:Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),Object(k.jsx)("div",{children:Object(k.jsx)(h.b,{to:"/p/".concat(n.displayName),children:Object(k.jsx)("img",{className:"rounded-full h-8 w-8 flex ml-6 mr-2",src:"https://sherifessawy.github.io/instgram/images/avatars/".concat(n.displayName,".jpg"),onError:function(e){e.target.onerror=null,e.target.src="/images/avatars/blank.png"},alt:"".concat(n.displayName," profile")})})})]}):Object(k.jsxs)("div",{children:[Object(k.jsx)(O,{to:m.b,bg:"#038cfc",color:"white",children:"Log In"}),Object(k.jsx)(O,{to:m.d,children:"Sign Up"})]})]}))})}},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),c=n.n(r),a=n(2),s=n(11),i=n(6),o=n(52),u=n(31);function l(){var e=Object(i.useState)({}),t=Object(s.a)(e,2),n=t[0],r=t[1],l=Object(i.useContext)(u.a).user;return Object(i.useEffect)((function(){function e(){return(e=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.b)(l.uid);case 2:t=e.sent,r(t[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l&&l.uid&&function(){e.apply(this,arguments)}()}),[l]),{user:n}}},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var r=n(0),c=n.n(r),a=n(2),s=n(49),i=n(32);function o(){return u.apply(this,arguments)}function u(){return u=Object(a.a)(c.a.mark((function e(){var t,n,r,a,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=o.length>0&&void 0!==o[0]?o[0]:[]).length){e.next=3;break}return e.abrupt("return","no posts");case 3:return n=Object(s.g)(i.a),r=[],a=Object(s.i)(Object(s.c)(n,"photos"),Object(s.l)("userId","in",t)),e.next=8,Object(s.f)(a);case 8:if(e.sent.forEach((function(e){r.push(e.data())})),0!==r.length){e.next=12;break}return e.abrupt("return","no posts");case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(e){return b.apply(this,arguments)}function b(){return(b=Object(a.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(s.g)(i.a),r=[],a=Object(s.i)(Object(s.c)(n,"photos"),Object(s.l)("userId","==",t)),e.next=5,Object(s.f)(a);case 5:return e.sent.forEach((function(e){r.push(e.data())})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var r,c,a,s,i=n(48),o=n(0),u=n.n(o),l=n(16),b=n(2),j=n(11),d=n(51),h=n(6),p=n(57),f=n(46),O=n(47),m=O.a.div(r||(r=Object(f.a)(["\n    width: 30%;\n\n    @media(max-width: 720px){\n        width: 100%;\n    }\n    \n"]))),x=O.a.div(c||(c=Object(f.a)(["\n\n    \n"]))),g=O.a.div(a||(a=Object(f.a)(["\n    display: flex;\n    align-items: center;\n    margin-top: 1em;\n\n    img{\n        ","\n        border-radius: 50%;\n        margin-right: 1em;\n    }\n\n    p:first-of-type{\n        font-weight: bold;\n    }\n\n    @media(max-width: 720px){\n        ","\n    }\n"])),(function(e){return e.scaleDown?"width: 45px;":"width:75px;"}),(function(e){return e.dontDisplayForPhones&&"display: none;"})),w=O.a.button(s||(s=Object(f.a)(["\n    margin-left: auto;\n    color: #5d9bde;\n    font-weight: bold;\n"]))),v=n(52),k=n(26),y=n(49),N=n(58),L=n(8),C=function(e){return Object(L.jsxs)(N.c,Object(i.a)(Object(i.a)({height:300,backgroundColor:"#d9d9d9",foregroundColor:"#999"},e),{},{children:[Object(L.jsx)("rect",{x:"103",y:"12",rx:"3",ry:"3",width:"123",height:"7"}),Object(L.jsx)("rect",{x:"102",y:"172",rx:"3",ry:"3",width:"171",height:"6"}),Object(L.jsx)("circle",{cx:"44",cy:"42",r:"34"}),Object(L.jsx)("circle",{cx:"44",cy:"170",r:"24"}),Object(L.jsx)("circle",{cx:"44",cy:"275",r:"24"}),Object(L.jsx)("rect",{x:"105",y:"152",rx:"3",ry:"3",width:"123",height:"6"}),Object(L.jsx)("rect",{x:"104",y:"260",rx:"3",ry:"3",width:"123",height:"6"}),Object(L.jsx)("rect",{x:"105",y:"48",rx:"3",ry:"3",width:"171",height:"6"}),Object(L.jsx)("rect",{x:"104",y:"280",rx:"3",ry:"3",width:"171",height:"6"})]}))};C.metadata={name:"Rituraj ratan",github:"riturajratan",description:"Listing with thumbnail",filename:"ListingWithThumbnail"};var I=C,S=n(30),E=["children"],M=["children","imgSrc","alt","user","setSuggestedUsers","activeUser"];function U(e){e.children;var t=Object(d.a)(e,E),n=Object(p.a)().user,r=Object(h.useState)([]),c=Object(j.a)(r,2),a=c[0],s=c[1];return Object(h.useEffect)((function(){if(n&&n.following){function e(){return t.apply(this,arguments)}function t(){return(t=Object(b.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.b)([].concat(Object(l.a)(n.following),[n.userId]),!1);case 2:t=e.sent,r=t.map((function(e){return Object(L.jsx)(U.Profile,{imgSrc:"https://sherifessawy.github.io/instgram/images/avatars/".concat(e.username,".jpg"),alt:e.fullName,user:e,scaleDown:!0,setSuggestedUsers:s,activeUser:n},e.userId)})),s(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e()}}),[n]),Object(L.jsxs)(m,Object(i.a)(Object(i.a)({},t),{},{children:[n&&n.username?Object(L.jsx)(U.Profile,{src:"https://sherifessawy.github.io/instgram/images/avatars/".concat(n.username,".jpg"),alt:"".concat(n.fullName," photo"),user:n,dontDisplayForPhones:!0}):Object(L.jsx)(I,{className:"mt-4"}),a.length>0&&Object(L.jsxs)(x,{children:[Object(L.jsx)("p",{className:"mt-10 mb-6 font-bold",children:"Suggestions For You"}),a]})]}))}U.Profile=function(e){e.children;var t=e.imgSrc,n=(e.alt,e.user),r=e.setSuggestedUsers,c=e.activeUser,a=Object(d.a)(e,M),s=Object(h.useContext)(k.a).firebaseApp,o=Object(y.g)(s);function l(){return(l=Object(b.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((function(e){return e.filter((function(e){return e.props.user.userId!==n.userId}))})),t=Object(y.d)(o,"users",c.username),a=Object(y.d)(o,"users",n.username),e.next=5,Object(y.k)(t,{following:Object(y.b)(n.userId)});case 5:return e.next=7,Object(y.k)(a,{followers:Object(y.b)(c.userId)});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(L.jsxs)(g,Object(i.a)(Object(i.a)({},a),{},{children:[Object(L.jsx)(S.b,{to:"/p/".concat(n.username),children:Object(L.jsx)("img",{src:t,alt:n.fullName,onError:function(e){e.target.onerror=null,e.target.src="https://sherifessawy.github.io/instgram/images/avatars/blank.png"}})}),Object(L.jsxs)("div",{children:[Object(L.jsx)("p",{children:n.username}),Object(L.jsx)("p",{children:n.fullName})]}),r&&Object(L.jsx)(w,{onClick:function(){return function(){return l.apply(this,arguments)}()},children:"Follow"})]}))}},69:function(e,t,n){"use strict";var r,c,a,s,i,o,u,l=n(16),b=n(0),j=n.n(b),d=n(2),h=n(11),p=n(6),f=n(46),O=n(47),m=O.a.div(r||(r=Object(f.a)(["\n    margin: 0 0 2em;\n    border: 1px solid #d3e6d8;\n    border-bottom: none;\n    background: white;\n"]))),x=O.a.p(c||(c=Object(f.a)(["\n    margin-left: 1rem;\n"]))),g=O.a.p(a||(a=Object(f.a)(["\n"]))),w=O.a.input(s||(s=Object(f.a)(["\n    border-top: 1px solid #d3e6d8;\n    border-bottom: 1px solid #d3e6d8;\n    padding: 1rem;\n    width: 85%\n"]))),v=O.a.button(i||(i=Object(f.a)(["\n    color: #347eb3;\n    font-weight: bold;\n    border-top: 1px solid #d3e6d8;\n    border-bottom: 1px solid #d3e6d8;\n    padding: 1rem;\n    width: 15%;\n\n    &:hover{\n        color: #236899;\n    }\n\n    ","\n\n    @media(max-width: 380px){\n        \n    }\n"])),(function(e){return e.disabled&&"color:grey; opacity: 0.75; cursor:unset; &:hover{color: grey}"})),k=O.a.div(o||(o=Object(f.a)(["\n    \n    &:hover{\n        cursor: pointer;\n    }\n"]))),y=O.a.div(u||(u=Object(f.a)(["\n    max-height: 100px;\n    overflow: auto;\n     \n"]))),N=n(30),L=n(49),C=n(32),I=n(83),S=n(52),E=n(31),M=n(8);function U(e){var t=e.postInfo,n=t.caption,r=t.likes,c=t.comments,a=t.imageSrc,s=t.dateCreated,i=t.photoId,o=t.userId,u=Object(p.useState)(""),b=Object(h.a)(u,2),f=b[0],O=b[1],k=Object(p.useState)(""),P=Object(h.a)(k,2),W=P[0],B=P[1],D=Object(p.useState)(c),F=Object(h.a)(D,2),H=F[0],z=F[1],A=Object(p.useState)(""),J=Object(h.a)(A,2),R=J[0],V=J[1],T=Object(p.useState)(r),Y=Object(h.a)(T,2),q=Y[0],G=Y[1],K=Object(p.useContext)(E.a).user;Object(p.useEffect)((function(){function e(){return(e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.b)(o);case 2:t=e.sent,V(t[0].username);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o]);var Q=Object(p.useRef)(null),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-3;return H.slice(e).map((function(e,t){return Object(M.jsxs)(g,{className:"ml-4",children:[Object(M.jsx)(N.b,{to:"/p/".concat(e.displayName),className:"font-bold mr-2",children:e.displayName}),e.comment]},t)}))},Z=Object(p.useState)(X),$=Object(h.a)(Z,2),_=$[0],ee=$[1];return Object(p.useEffect)((function(){if(W){z((function(e){return[].concat(Object(l.a)(e),[{comment:W,displayName:K.displayName}])})),O(""),B("");var e=Object(L.g)(C.a),t=Object(L.d)(e,"photos","photo".concat(i));function n(){return r.apply(this,arguments)}function r(){return(r=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.k)(t,{comments:Object(L.b)({displayName:K.displayName,comment:W})}).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n()}}),[W]),Object(p.useEffect)((function(){ee((function(){return X(-3)}))}),[H]),Object(M.jsxs)(m,{children:[Object(M.jsxs)(N.b,{to:"/p/".concat(R),className:"flex items-center",children:[Object(M.jsx)("img",{className:"rounded-full h-12 w-12 flex m-3 ml-6",src:"https://sherifessawy.github.io/instgram/images/avatars/".concat(R,".jpg"),alt:"".concat(R," profile")}),Object(M.jsx)("p",{className:"font-bold",children:R})]}),Object(M.jsx)("img",{src:"https://sherifessawy.github.io/instgram".concat(a),alt:"post"}),Object(M.jsxs)("div",{className:"flex justify-between w-14 m-4",children:[Object(M.jsx)(U.LikeIcon,{user:K,photoId:i,likes:r,settempLikes:G}),Object(M.jsx)(U.CommentIcon,{inputEl:Q})]}),Object(M.jsxs)("p",{className:"pl-4 pb-2 text-xs font-bold",children:[q.length," Likes"]}),Object(M.jsxs)(x,{children:[Object(M.jsx)(N.b,{to:"/p/".concat(R),className:"font-bold mr-2",children:R}),n]}),H.length>3&&Object(M.jsx)("p",{className:"pl-4 cursor-pointer text-gray-600",onClick:function(){_.length<=3?ee((function(){return X(0)})):_.length>3&&ee((function(){return X(-3)}))},children:_.length<=3?"View all ".concat(H.length," comments"):"Hide comments"}),Object(M.jsx)(y,{children:_}),Object(M.jsxs)("p",{className:"p-4 text-xs",children:[Object(I.a)(s,new Date)," ago"]}),Object(M.jsx)(w,{placeholder:"Add a comment ...",value:f,onChange:function(e){var t=e.target;return O(t.value)},ref:Q}),Object(M.jsx)(v,{onClick:function(){return B(f)},disabled:!f,children:"Post"})]})}U.LikeIcon=function(e){var t=e.user,n=e.photoId,r=e.likes,c=e.settempLikes,a=Object(p.useState)(r.includes(t.uid)),s=Object(h.a)(a,2),i=s[0],o=s[1],u=Object(L.g)(C.a),b=Object(L.d)(u,"photos","photo".concat(n)),f=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o((function(e){return!e})),c(i?function(e){return Object(l.a)(e).filter((function(e){return e!==t.uid}))}:function(e){return[].concat(Object(l.a)(e),[t.uid])}),!i){e.next=7;break}return e.next=5,Object(L.k)(b,{likes:Object(L.a)(t.uid)});case 5:e.next=9;break;case 7:return e.next=9,Object(L.k)(b,{likes:Object(L.b)(t.uid)});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsx)(k,{onClick:function(){return f()},children:i?Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"#c90f08",viewBox:"0 0 24 24",stroke:"#c90f08",children:Object(M.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}):Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(M.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})},U.CommentIcon=function(e){var t=e.inputEl;return Object(M.jsx)("div",{onClick:function(){return t.current.focus()},className:"cursor-pointer",children:Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(M.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})})};t.a=U}}]);
//# sourceMappingURL=3.0d09474c.chunk.js.map